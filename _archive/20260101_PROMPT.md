================= Done =================

Analyse all the proposed base images and research a thorough upgrade path that will target the following aspects:
- Modify all images to use dind (currently only base_edge_node_dind uses dind) and remove base_edge_node_dind
- Upgrade the base OS to Ubuntu 24.04 LTS if possible to all the images
- Upgrade Python to version 3.13 if possible to all the images
- optimize and fix the arm64 cpu version using best practices for raspberry pi images
- optimize and fix the arm64 tegra version using best practices for jetson images
- create a based_edge_node_amd64_gpu and base_edge_node_amd64_cpu from the standard base_edge_node image and remove base_edge_node image
- Upgrade pytorch to all the images
- review and upgrade the DinD if necessary to the latest best practices for security and performance and latest docker versions
- verify and optimize the github actions to build and push the images

Your objective is to create a UPDATE.md with a detailed plan that outlines the steps required to achieve these upgrades and modifications. Use the maximum amount of ultrathink. Take all the time you need. It's much better if you do too much research and thinking than not enough.


in each of the 4 folders add a testing bash script that would test the build step by step
- build test image
- run it
- check various versions
- run a public torch-based container inside the base container to test


Then review all the proposed steps in the UPDATE.md and thoroughly research each step to ensure feasibility and identify potential challenges. Focus on important misleading aspects that are present in the UPDATE.md plan:
- review the `pip install` based approaches and migrate to `uv pip install` - no venv are required as this is a image with only one execution environment
- the images repos are already segregated by arch
- the start image should be ubuntu 24.04 LTS and python 3.13 should be installed on top of it
- the images should all be based on dind so the dind layers should be integrated into each image
- the DinD entrypoint.sh should be preserved as well as the EE_DD environment variable for privileged mode (docker-in-docker mode)
- remove any redundant instructions as well as update minimal versions for "transformers", "torch", "ffmpeg", etc, in order to make sure the images build correctly and efficiently with no incompatibilities
- review the tests thoroughly to ensure they are appropriate for each architecture and image type and detect the current platform (such as amd64) and run the appropriate tests for that platform only while executing the test scripts

For tegra platform there seems to be no update to dustynv/l4t-pytorch in the past year so you need to research for a better based image for jetson that would have a more recent pytorch version and more recent ubuntu base.

Update the UPDATE.md with the findings, corrections, and improvements identified during this review process. Use the maximum amount of ultrathink. Take all the time you need. It's much better if you do too much research and thinking than not enough.


================== In preparation ==================


